# Инструкции по использованию правил для Cursor AI при разработке Android-приложений

Данный документ содержит инструкции по применению набора правил для Cursor AI при разработке Android-приложений на Kotlin, чтобы обеспечить автоматическое документирование и отслеживание структуры приложения.

## Как добавить правила к инструкциям для Cursor AI

1. Откройте настройки Cursor AI
2. Перейдите в раздел "Custom Instructions" (Пользовательские инструкции)
3. Скопируйте содержимое файла `android_kotlin_dev_rules.md` и вставьте его в поле пользовательских инструкций
4. Сохраните изменения

## Инициализация нового проекта

При создании нового Android-проекта:

1. Создайте в корне проекта директорию `docs`
2. Скопируйте шаблон `function_registry_template.html` в файл `docs/function_registry.html`
3. Скопируйте шаблон `project_structure_template.html` в файл `docs/project_structure.html`
4. Дайте Cursor AI следующие инструкции:

```
Пожалуйста, создай базовую структуру Android-приложения, следуя принципам чистой архитектуры.
После создания структуры, обнови файлы docs/function_registry.html и docs/project_structure.html,
чтобы отразить созданную структуру приложения.
```

## Добавление новой функциональности

Запрашивая разработку новой функциональности, укажите:

```
Пожалуйста, разработай [описание функциональности]. 
После внесения изменений, обнови документацию в docs/function_registry.html и docs/project_structure.html,
чтобы отразить добавленные функции и их взаимосвязи.
```

## Внесение изменений в существующий код

При запросе изменений в существующем коде, укажите:

```
Пожалуйста, внеси следующие изменения в [указание файла/компонента]: [описание изменений].
Проверь, как эти изменения повлияют на существующую структуру приложения и зависимости.
Обнови документацию в docs/function_registry.html и docs/project_structure.html.
```

## Периодический аудит структуры

Периодически (например, после завершения значительных изменений), запрашивайте аудит структуры приложения:

```
Пожалуйста, проведи аудит структуры приложения:
1. Проверь соответствие кода принципам чистой архитектуры
2. Найди возможные циклические зависимости
3. Обнови документацию в docs/function_registry.html и docs/project_structure.html
4. Предложи улучшения архитектуры, если необходимо
```

## Советы по эффективному использованию

1. **Будьте конкретны в запросах**: Четко указывайте, какую функциональность вы хотите добавить или изменить

2. **Используйте терминологию слоев**: Указывайте, в каком слое должны происходить изменения (UI, Domain, Data)

3. **Запрашивайте пояснения**: Если AI создал функцию, но вы не понимаете её назначение или взаимосвязи, спросите:
   ```
   Объясни назначение функции [имя_функции] и её взаимосвязи с другими компонентами приложения
   ```

4. **Регулярно обновляйте документацию**: Если вы вносите изменения вручную, не забудьте попросить AI обновить документацию:
   ```
   Я внес следующие изменения в код: [описание изменений]. 
   Пожалуйста, обнови документацию в docs/function_registry.html и docs/project_structure.html
   ```

## Пример рабочего процесса

1. **Инициализация проекта**:
   ```
   Создай новый Android-проект с использованием Jetpack Compose, следуя принципам чистой архитектуры.
   Проект должен иметь функциональность отображения списка товаров и их детальной информации.
   После создания обнови файлы документации.
   ```

2. **Добавление функциональности**:
   ```
   Добавь функциональность поиска по списку товаров. Пользователь должен иметь возможность ввести
   текст в поле поиска и получить отфильтрованный список. Обнови документацию после изменений.
   ```

3. **Внесение изменений**:
   ```
   Измени логику фильтрации в компоненте поиска, чтобы поиск был нечувствителен к регистру
   и искал подстроку в названии и описании товара. Обнови документацию после изменений.
   ```

4. **Аудит**:
   ```
   Проведи аудит архитектуры приложения. Проверь, соответствует ли код принципам чистой
   архитектуры, и нет ли утечек абстракций между слоями.
   ```

## Устранение проблем

Если Cursor AI не следует правилам документирования:

1. Напомните о необходимости следовать правилам:
   ```
   Пожалуйста, следуй установленным правилам документирования и отслеживания функций.
   Не забудь обновить файлы docs/function_registry.html и docs/project_structure.html.
   ```

2. Если AI создает код, но не обновляет документацию, запросите обновление явно:
   ```
   Код создан, но документация не обновлена. Пожалуйста, добавь все новые функции
   в docs/function_registry.html и обнови структуру в docs/project_structure.html.
   ``` 